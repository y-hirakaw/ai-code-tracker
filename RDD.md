# AI Code Tracker - Requirements and Design Document (RDD)

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ç›®çš„
AIï¼ˆClaude Codeç­‰ï¼‰ã¨äººé–“ãŒæ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã®å‰²åˆã‚’æ­£ç¢ºã«è¿½è·¡ã—ã€è¨­å®šå¯èƒ½ãªç›®æ¨™AIã‚³ãƒ¼ãƒ‰ç”Ÿæˆç‡ã®é”æˆã‚’æ”¯æ´ã™ã‚‹è¶…è»½é‡ãƒ„ãƒ¼ãƒ«ã‚’é–‹ç™ºã™ã‚‹ã€‚

### 1.2 ä¸»è¦æ©Ÿèƒ½
- Claude Codeã®ãƒ•ãƒƒã‚¯ã¨é€£æºã—ãŸè‡ªå‹•çš„ãªã‚³ãƒ¼ãƒ‰å¤‰æ›´è¿½è·¡
- Git pre/post-commitãƒ•ãƒƒã‚¯ã«ã‚ˆã‚‹è‡ªå‹•åˆ†æ
- **è¶…è»½é‡JSONLå½¢å¼**: ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ1ã¤ã‚ãŸã‚Šç´„100ãƒã‚¤ãƒˆã§å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾å¿œ
- **æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½**: ç›´è¿‘Næ—¥/é€±/æœˆã®è©³ç´°åˆ†æã¨è¤‡æ•°å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œ
- **ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¦‚å¿µã‚’å»ƒæ­¢ã—ã€å·®åˆ†è¿½è·¡ã®ã¿ã«é›†ä¸­
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ—¢å­˜è¨­å®šãƒãƒ¼ã‚¸æ©Ÿèƒ½
- é«˜é€Ÿãªå·®åˆ†è¨ˆç®—ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—è¡¨ç¤º

### 1.3 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- å®Ÿè£…è¨€èª: Go
- ãƒ‡ãƒ¼ã‚¿å½¢å¼: JSONLï¼ˆJSON Linesï¼‰
- é€£æº: Claude Code hooks, Git hooks
- å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«: è¨­å®šå¯èƒ½ï¼ˆä»»æ„ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã«å¯¾å¿œï¼‰

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### 2.1 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
ai-code-tracker/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ aict/              # ãƒ¡ã‚¤ãƒ³CLIãƒ„ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ main.go        # ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚       â”œâ”€â”€ handlers.go    # æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½
â”‚       â””â”€â”€ handlers_test.go
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ tracker/           # ã‚³ã‚¢è¿½è·¡ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ checkpoint.go  # ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ analyzer.go    # åˆ†æãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ types.go       # å‹å®šç¾©
â”‚   â”œâ”€â”€ period/            # æœŸé–“æŒ‡å®šæ©Ÿèƒ½ï¼ˆv0.4.0æ–°è¦è¿½åŠ ï¼‰
â”‚   â”‚   â”œâ”€â”€ analyzer.go    # æœŸé–“åˆ¥åˆ†æ
â”‚   â”‚   â”œâ”€â”€ filter.go      # æ™‚é–“ç¯„å›²ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
â”‚   â”‚   â”œâ”€â”€ formatter.go   # è¤‡æ•°å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
â”‚   â”‚   â”œâ”€â”€ parser.go      # æœŸé–“ãƒ‘ãƒ¼ã‚¹æ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ types.go       # æœŸé–“é–¢é€£å‹å®šç¾©
â”‚   â”œâ”€â”€ storage/           # ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
â”‚   â”‚   â”œâ”€â”€ json.go        # JSONã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â””â”€â”€ metrics.go     # ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç®¡ç†
â”‚   â”œâ”€â”€ git/               # Gité€£æº
â”‚   â”‚   â””â”€â”€ diff.go        # Git diffå‡¦ç†
â”‚   â””â”€â”€ templates/         # ãƒ•ãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚       â””â”€â”€ hooks.go       # åŸ‹ã‚è¾¼ã¿ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ settings.json      # Claude Codeè¨­å®š
â””â”€â”€ .ai_code_tracking/     # AIè¿½è·¡ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    â”œâ”€â”€ config.json        # è¿½è·¡è¨­å®š
    â”œâ”€â”€ checkpoints.jsonl  # è¶…è»½é‡ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆè¨˜éŒ²ï¼ˆJSONLå½¢å¼ï¼‰
    â”œâ”€â”€ hooks/             # ãƒ•ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
    â”‚   â”œâ”€â”€ pre-tool-use.sh
    â”‚   â”œâ”€â”€ post-tool-use.sh
    â”‚   â”œâ”€â”€ pre-commit
    â”‚   â””â”€â”€ post-commit
    â””â”€â”€ metrics/           # ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆä¸‹ä½äº’æ›ç”¨ï¼‰
```

### 2.2 è¶…è»½é‡è¿½è·¡ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆv0.3.1å®Ÿè£…æ¸ˆã¿ï¼‰

```
1. PreToolUse Hook â†’ JSONLè¨˜éŒ²: {"author":"human","added":X,"deleted":Y}
   â†“
   Claude Codeç·¨é›†å®Ÿè¡Œ
   â†“
2. PostToolUse Hook â†’ JSONLè¨˜éŒ²: {"author":"claude","added":X+n,"deleted":Y+m}
   â†“
   äººé–“ã®è¿½åŠ ç·¨é›†ï¼ˆoptionalï¼‰
   â†“
3. Pre-commit Hook â†’ ç¾åœ¨çŠ¶æ…‹è¨˜éŒ²
   â†“
4. Post-commit Hook â†’ åˆ†æãƒ»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼äº’æ›ç”¨ï¼‰
```

**JSONLå½¢å¼ã®åˆ©ç‚¹**ï¼š
- **è¶…è»½é‡**: 1ãƒ¬ã‚³ãƒ¼ãƒ‰ç´„100ãƒã‚¤ãƒˆï¼ˆå¾“æ¥ã®70%å‰Šæ¸›ï¼‰
- **é«˜é€Ÿå‡¦ç†**: ã‚·ãƒ³ãƒ—ãƒ«ãªæ•°å€¤è¨ˆç®—ã®ã¿
- **å¤§è¦æ¨¡å¯¾å¿œ**: æ•°ä¸‡ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚è»½é‡
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œ**: tracked_extensionsã«ã‚ˆã‚‹æ‹¡å¼µå­ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ä»˜ã
- **ã‚¹ãƒãƒ¼ãƒˆã‚¹ã‚­ãƒƒãƒ—**: å¯¾è±¡å¤–ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã®å¤‰æ›´æ™‚ã¯è¨˜éŒ²ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦åŠ¹ç‡åŒ–

## 3. ãƒ‡ãƒ¼ã‚¿ä»•æ§˜ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

### 3.1 è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼

```json
// .ai_code_tracking/config.json
{
  "target_ai_percentage": 80.0,
  "tracked_extensions": [
    ".go", ".py", ".js", ".ts", ".java", ".cpp", ".c", ".h", ".rs", ".swift"
  ],
  "exclude_patterns": [
    "*_generated.go"
  ],
  "author_mappings": {
    "y-hirakaw": "human"
  }
}
```

**v0.4.0ã§ã®å¤‰æ›´ç‚¹**: ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`*_test.go`, `*.test.js`, `*.spec.ts`ï¼‰ã‚’è¿½è·¡å¯¾è±¡ã«å«ã‚ã‚‹ãŸã‚ã€é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰å‰Šé™¤

### 3.2 ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆJSONå½¢å¼ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

```json
{
  "id": "abc12345",
  "timestamp": "2025-07-30T15:52:30.252106+09:00",
  "author": "claude",
  "files": {
    "test/example.swift": {
      "path": "test/example.swift", 
      "lines": ["import Foundation", "// Simple vocabulary...", ...]
    }
  }
}
```

### 3.3 ãƒ¡ãƒˆãƒªã‚¯ã‚¹JSONå½¢å¼ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

```json
{
  "total_lines": 817,
  "baseline_lines": 803,
  "ai_lines": 14,
  "human_lines": 0,
  "percentage": 100.0,
  "last_updated": "2025-07-30T15:52:30.252106+09:00"
}
```

**é‡è¦**: `percentage`ã¯ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’é™¤ã„ãŸè¿½åŠ è¡Œï¼ˆ`ai_lines + human_lines`ï¼‰ã«å¯¾ã™ã‚‹AIè¡Œã®å‰²åˆã‚’ç¤ºã—ã¾ã™ã€‚

## 4. å®Ÿè£…ä»•æ§˜ï¼ˆç¾åœ¨ã®çŠ¶æ³ - v0.4.0ï¼‰

### 4.1 å®Ÿè£…æ¸ˆã¿CLIã‚³ãƒãƒ³ãƒ‰

```bash
# åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
aict init                      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ãƒ»ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ä½œæˆãƒ»ãƒ•ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
aict setup-hooks               # Claude Codeãƒ»Git ãƒ•ãƒƒã‚¯è¨­å®š
aict track -author <name>      # ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆä½œæˆï¼ˆæ‰‹å‹•ï¼‰
aict report [options]          # ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤ºï¼ˆæœŸé–“æŒ‡å®šå¯¾å¿œï¼‰
aict reset                     # ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒªã‚»ãƒƒãƒˆãƒ»ç¾åœ¨çŠ¶æ…‹ã‚’æ–°ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã«è¨­å®š
aict version                   # ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±è¡¨ç¤º
aict help                      # ãƒ˜ãƒ«ãƒ—è¡¨ç¤º

# æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆv0.4.0æ–°æ©Ÿèƒ½ï¼‰
aict report --since "2 weeks ago"             # ç›¸å¯¾æœŸé–“æŒ‡å®š
aict report --from 2025-01-01 --to 2025-01-15 # æœŸé–“ç¯„å›²æŒ‡å®š
aict report --last 7d                         # ç›´è¿‘Næ—¥æŒ‡å®š
aict report --last 2w                         # ç›´è¿‘Né€±æŒ‡å®š
aict report --last 1m                         # ç›´è¿‘NæœˆæŒ‡å®š
aict report --format table                    # ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
aict report --format graph                    # ASCII ã‚°ãƒ©ãƒ•å½¢å¼
aict report --format json                     # JSONå½¢å¼

# ä½¿ç”¨ä¾‹
aict init                      # è¨­å®šã¨ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ä½œæˆï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¯è¨ˆæ¸¬å¯¾è±¡å¤–ï¼‰
aict setup-hooks               # ãƒ•ãƒƒã‚¯é€£æºè¨­å®š
aict track -author human       # äººé–“ã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
aict track -author claude      # AIã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
aict report --last 1w --format graph  # ç›´è¿‘1é€±é–“ã‚’ã‚°ãƒ©ãƒ•è¡¨ç¤º
aict reset                     # é€”ä¸­ã§ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä»˜ãï¼‰
```

### 4.2 å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

#### âœ… å®Œäº†æ¸ˆã¿ï¼ˆv0.4.0æ™‚ç‚¹ï¼‰
- [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤æ§‹ç¯‰ï¼ˆgo.modã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼‰
- [x] ã‚³ã‚¢æ©Ÿèƒ½å®Ÿè£…ï¼ˆcheckpoint.go, analyzer.go, types.goï¼‰
- [x] Gitçµ±åˆï¼ˆdiff.goï¼‰
- [x] ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤ï¼ˆjson.go, metrics.goï¼‰
- [x] CLIå®Ÿè£…ï¼ˆinit, track, report, resetã‚³ãƒãƒ³ãƒ‰ï¼‰
- [x] **ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½å®Ÿè£…**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’åŸºæº–ç‚¹ã¨ã—ã¦è¨­å®šã€è¿½åŠ åˆ†ã®ã¿è¿½è·¡
- [x] **ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½å®Ÿè£…**: ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚¯ãƒªã‚¢ãƒ»æ–°ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨­å®šï¼ˆç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä»˜ãï¼‰
- [x] åŸºæœ¬çš„ãªå‹•ä½œç¢ºèªã¨ãƒ†ã‚¹ãƒˆ
- [x] ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç´¯ç©ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£
- [x] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’.ai_code_trackingã«å¤‰æ›´
- [x] Claude Codeãƒ•ãƒƒã‚¯å®Ÿè£…ï¼ˆPreToolUse/PostToolUseï¼‰
- [x] Git post-commitãƒ•ãƒƒã‚¯å®Ÿè£…
- [x] ãƒ•ãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŸ‹ã‚è¾¼ã¿æ©Ÿèƒ½
- [x] setup-hooksã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
- [x] ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ—¢å­˜è¨­å®šãƒãƒ¼ã‚¸æ©Ÿèƒ½
- [x] æ—¢å­˜Gitãƒ•ãƒƒã‚¯ã¨Claudeè¨­å®šã®å®‰å…¨ãªçµ±åˆ
- [x] **è¶…è»½é‡JSONLå½¢å¼å®Ÿè£…**: ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆè¨˜éŒ²ã‚’ç´„100ãƒã‚¤ãƒˆã«è»½é‡åŒ–
- [x] **tracked_extensionsãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: è¨­å®šã•ã‚ŒãŸæ‹¡å¼µå­ã®ã¿ã‚’è¿½è·¡å¯¾è±¡ã«
- [x] **ã‚¹ãƒãƒ¼ãƒˆã‚¹ã‚­ãƒƒãƒ—æ©Ÿèƒ½**: å¯¾è±¡å¤–ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã®å¤‰æ›´æ™‚ã¯è¨˜éŒ²ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦åŠ¹ç‡åŒ–
- [x] **æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½å®Œå…¨å®Ÿè£…ï¼ˆv0.4.0ï¼‰**:
  - CLIæœŸé–“ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆ--since, --from/--to, --lastï¼‰
  - è¤‡æ•°å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆtable, graph, jsonï¼‰
  - æ—¥æ¬¡çµ±è¨ˆã¨ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ
  - ASCII ã‚°ãƒ©ãƒ•å¯è¦–åŒ–ã¨é€²æ—ãƒãƒ¼
  - æ™‚é–“ç¯„å›²ãƒ‘ãƒ¼ã‚¹æ©Ÿèƒ½ï¼ˆç›¸å¯¾ãƒ»çµ¶å¯¾æ—¥ä»˜å¯¾å¿œï¼‰
- [x] **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å¤§å¹…å‘ä¸Š**: internal/period ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ 89.3%
- [x] **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½è·¡å¯¾å¿œ**: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚‚æ­£å½“ãªã‚³ãƒ¼ãƒ‰ã¨ã—ã¦è¿½è·¡
- [x] **ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š**: ãƒãƒ³ãƒ‰ãƒ©ãƒ¼åˆ†é›¢ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±ä¸€

#### ğŸ“‹ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

##### ğŸ“‹ ä¸­æœŸå®Ÿè£…äºˆå®šï¼ˆãƒ•ã‚§ãƒ¼ã‚º4ï¼‰
- [ ] configè¨­å®šã‚³ãƒãƒ³ãƒ‰ï¼ˆ`aict config set/get`ï¼‰
- [ ] ã‚ˆã‚Šè©³ç´°ãªãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ï¼‰
- [ ] è¤‡æ•°AIãƒ„ãƒ¼ãƒ«å¯¾å¿œï¼ˆGitHub Copilotã€Cursorç­‰ï¼‰
- [ ] Web UIè¿½åŠ ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹çµ±è¨ˆè¡¨ç¤ºï¼‰

##### ğŸ“‹ é•·æœŸå®Ÿè£…äºˆå®šï¼ˆãƒ•ã‚§ãƒ¼ã‚º5ï¼‰
- [ ] ãƒãƒ¼ãƒ åˆ†ææ©Ÿèƒ½
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¯”è¼ƒ
- [ ] APIæä¾›

### 4.3 ä¸»è¦ãªå‹å®šç¾©ï¼ˆv0.4.0å®Ÿè£…æ¸ˆã¿ï¼‰

```go
// internal/tracker/types.go

// æ–°ã—ã„è¶…è»½é‡JSONLå½¢å¼ï¼ˆv0.3.1ï¼‰
type CheckpointRecord struct {
    Timestamp time.Time `json:"timestamp"`
    Author    string    `json:"author"`
    Commit    string    `json:"commit,omitempty"`
    Added     int       `json:"added"`   // å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ è¡Œæ•°åˆè¨ˆ
    Deleted   int       `json:"deleted"` // å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤è¡Œæ•°åˆè¨ˆ
}

// ãƒ¬ã‚¬ã‚·ãƒ¼å½¢å¼ï¼ˆä¸‹ä½äº’æ›ç”¨ï¼‰
type Checkpoint struct {
    ID          string                 `json:"id"`
    Timestamp   time.Time              `json:"timestamp"`
    Author      string                 `json:"author"`
    CommitHash  string                 `json:"commit_hash,omitempty"`
    Files       map[string]FileContent `json:"files"`
    NumstatData map[string][2]int      `json:"numstat_data,omitempty"`
}

// ã‚·ãƒ³ãƒ—ãƒ«åŒ–ã•ã‚ŒãŸãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¦‚å¿µã‚’å‰Šé™¤ï¼‰
type AnalysisResult struct {
    TotalLines  int       `json:"total_lines"`
    AILines     int       `json:"ai_lines"`
    HumanLines  int       `json:"human_lines"`
    Percentage  float64   `json:"percentage"`
    LastUpdated time.Time `json:"last_updated"`
}

type Config struct {
    TargetAIPercentage float64           `json:"target_ai_percentage"`
    TrackedExtensions  []string          `json:"tracked_extensions"`
    ExcludePatterns    []string          `json:"exclude_patterns"`
    AuthorMappings     map[string]string `json:"author_mappings"`
}
```

```go
// internal/period/types.go (v0.4.0æ–°è¦è¿½åŠ )

// TimeRange represents a time range for filtering
type TimeRange struct {
    From time.Time `json:"from"`
    To   time.Time `json:"to"`
}

// PeriodReport contains statistics for a specific time period
type PeriodReport struct {
    Range       TimeRange   `json:"range"`
    TotalLines  int         `json:"total_lines"`
    AILines     int         `json:"ai_lines"`
    HumanLines  int         `json:"human_lines"`
    Percentage  float64     `json:"percentage"`
    DailyStats  []DailyStat `json:"daily_stats,omitempty"`
}

// DailyStat represents daily aggregated statistics
type DailyStat struct {
    Date       time.Time `json:"date"`
    AILines    int       `json:"ai_lines"`
    HumanLines int       `json:"human_lines"`
}

// ReportFormat defines output format options
type ReportFormat string

const (
    FormatTable ReportFormat = "table"
    FormatGraph ReportFormat = "graph"
    FormatJSON  ReportFormat = "json"
)
```

## 5. UI/UXè¨­è¨ˆï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

### 5.1 ç¾åœ¨ã®é€²æ—è¡¨ç¤º

```
AI Code Tracking Report
======================
Added Lines: 395
  AI Lines: 395 (100.0%)
  Human Lines: 0 (0.0%)

Target: 80.0% AI code
Progress: 100.0%

Last Updated: 2025-07-31 23:09:14
```

### 5.2 æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤ºï¼ˆv0.4.0æ–°æ©Ÿèƒ½ï¼‰

#### ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼
```
AI Code Tracking Report (Period)
=================================
Period: 2025-07-24 22:56:33 to 2025-07-31 22:56:33
Total Lines: 100
  AI Lines: 70 (70.0%)
  Human Lines: 30 (30.0%)

Target: 80.0% AI code
Progress: 87.5%

Daily Breakdown:
Date       | AI Lines | Human Lines | AI %
-----------+----------+-------------+------
2025-07-30 |       35 |          15 | 70.0
2025-07-31 |       35 |          15 | 70.0
```

#### ã‚°ãƒ©ãƒ•å½¢å¼
```
AI vs Human Code Contributions (Period)
========================================
Period: 2025-07-30 to 2025-07-31

Daily AI Percentage Trend:
07-30 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ] 70.0% (35/50)
07-31 [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ] 70.0% (35/50)

Target [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ          ] 80.0%
```

#### JSONå½¢å¼
```json
{
  "range": {
    "from": "2025-07-24T22:56:33.055731+09:00",
    "to": "2025-07-31T22:56:33.055731+09:00"
  },
  "total_lines": 100,
  "ai_lines": 70,
  "human_lines": 30,
  "percentage": 70,
  "daily_stats": [
    {
      "date": "2025-07-30T00:00:00Z",
      "ai_lines": 35,
      "human_lines": 15
    },
    {
      "date": "2025-07-31T00:00:00Z",
      "ai_lines": 35,
      "human_lines": 15
    }
  ]
}
```

### 5.3 ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¨­å®šãƒãƒ¼ã‚¸

```
$ aict setup-hooks
Warning: Git post-commit hook already exists at .git/hooks/post-commit
Do you want to merge AI Code Tracker functionality? (y/N): y
âœ“ Git post-commit hook merged with existing hook

Warning: Claude settings already exist at .claude/settings.json  
Do you want to merge AI Code Tracker hooks? (y/N): y
âœ“ Claude Code hooks merged with existing settings
```

## 6. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

- ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆè¨˜éŒ²: é«˜é€Ÿï¼ˆJSONLå½¢å¼ã€ç´„100ãƒã‚¤ãƒˆ/ãƒ¬ã‚³ãƒ¼ãƒ‰ï¼‰
- åˆ†æå‡¦ç†: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼ˆæœŸé–“æŒ‡å®šå¯¾å¿œï¼‰
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: è»½é‡
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: åŠ¹ç‡çš„
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸: 89.3%ï¼ˆperiod ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰

## 7. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

```bash
# 1. ãƒ“ãƒ«ãƒ‰
go build -o bin/aict ./cmd/aict

# 2. åˆæœŸåŒ–ï¼ˆè¨­å®šã€ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ä½œæˆã€ãƒ•ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼‰
./bin/aict init                   # æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’åŸºæº–ç‚¹ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ï¼‰ã¨ã—ã¦è¨­å®š

# 3. ãƒ•ãƒƒã‚¯è¨­å®šï¼ˆClaude Codeã¨Gité€£æºï¼‰
./bin/aict setup-hooks

# 4. è‡ªå‹•è¿½è·¡é–‹å§‹
# Claude Codeã§ç·¨é›†ã™ã‚‹ã¨è‡ªå‹•çš„ã«è¿½è·¡ã•ã‚Œã‚‹ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã®å·®åˆ†ã®ã¿ï¼‰

# 5. æ‰‹å‹•è¿½è·¡ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
./bin/aict track -author human    # äººé–“ã®è¿½åŠ ç·¨é›†
./bin/aict track -author claude   # AIç·¨é›†å¾Œ

# 6. ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤ºï¼ˆæœŸé–“æŒ‡å®šå¯¾å¿œï¼‰
./bin/aict report                 # åŸºæœ¬ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º
./bin/aict report --last 1w       # ç›´è¿‘1é€±é–“
./bin/aict report --last 1w --format graph  # ã‚°ãƒ©ãƒ•è¡¨ç¤º

# 7. é€”ä¸­ã§ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
./bin/aict reset                  # ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä»˜ãã§ç¾åœ¨çŠ¶æ…‹ã‚’æ–°ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã«
```

## 8. æ¤œè¨¼çµæœ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ­£å¸¸ã«å‹•ä½œã—ã€ä»¥ä¸‹ãŒç¢ºèªæ¸ˆã¿ï¼š

- **æ­£ç¢ºãªè¿½è·¡**: AI/äººé–“ã®ã‚³ãƒ¼ãƒ‰è¡Œæ•°ã‚’æ­£ç¢ºã«åˆ†é›¢
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆé–“ã®å·®åˆ†ã‚’é©åˆ‡ã«è¨ˆç®—
- **è¨­å®šç®¡ç†**: æ‹¡å¼µå­ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³
- **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**: ç›®æ¨™é”æˆç‡ã®å¯è¦–åŒ–
- **æœŸé–“æŒ‡å®šæ©Ÿèƒ½**: æŸ”è»Ÿãªæ™‚é–“ç¯„å›²ã§ã®åˆ†æï¼ˆv0.4.0ï¼‰
- **è¤‡æ•°å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: table/graph/jsonå¯¾å¿œï¼ˆv0.4.0ï¼‰
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½è·¡**: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚‚å«ã‚ãŸåŒ…æ‹¬çš„ãªè¿½è·¡ï¼ˆv0.4.0ï¼‰

**ãƒ†ã‚¹ãƒˆçµæœä¾‹**ï¼ˆv0.4.0æ™‚ç‚¹ï¼‰:
- ç·è¿½åŠ è¡Œæ•°: 395è¡Œï¼ˆAI 100%ï¼‰
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å«ã‚€: åŒ…æ‹¬çš„ãªã‚³ãƒ¼ãƒ‰è²¢çŒ®åº¦æ¸¬å®š
- æœŸé–“æŒ‡å®š: ç›´è¿‘1é€±é–“ã§è©³ç´°åˆ†æå¯èƒ½
- å¯è¦–åŒ–: ASCII ã‚°ãƒ©ãƒ•ã§é€²æ—ç¢ºèª

ç›®æ¨™å€¤ï¼ˆ80% AIã‚³ãƒ¼ãƒ‰ï¼‰ã«å¯¾ã™ã‚‹é€²æ—ç‡: 125%ï¼ˆæœŸé–“æŒ‡å®šã§æŸ”è»Ÿã«åˆ†æå¯èƒ½ï¼‰

## 9. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºã¨å®Ÿè£…çŠ¶æ³

### ãƒ•ã‚§ãƒ¼ã‚º1 - âœ… å®Œäº†ï¼ˆv0.3.0ã¾ã§ï¼‰
- âœ… åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰
- âœ… åŸºæœ¬è¿½è·¡æ©Ÿèƒ½
- âœ… JSONLè»½é‡åŒ–

### ãƒ•ã‚§ãƒ¼ã‚º2 - âœ… å®Œäº†ï¼ˆv0.3.7ã¾ã§ï¼‰
- âœ… Claude Codeãƒ•ãƒƒã‚¯çµ±åˆ
- âœ… Git post-commitãƒ•ãƒƒã‚¯
- âœ… ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸æ©Ÿèƒ½

### ãƒ•ã‚§ãƒ¼ã‚º3 - âœ… å®Œäº†ï¼ˆv0.4.0ï¼‰
- âœ… **æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½**
  - âœ… CLIæœŸé–“ã‚ªãƒ—ã‚·ãƒ§ãƒ³å®Ÿè£…ï¼ˆ--since, --from/--to, --lastï¼‰
  - âœ… ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ‡ãƒ¼ã‚¿ã®æ™‚ç³»åˆ—ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  - âœ… æœŸé–“åˆ¥çµ±è¨ˆè¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
  - âœ… é€²æ—å¤‰åŒ–ã®å¯è¦–åŒ–ï¼ˆASCII ã‚°ãƒ©ãƒ•ï¼‰
- âœ… **ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Šï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰**
  - âœ… CLIã‚³ãƒãƒ³ãƒ‰ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ç‹¬ç«‹åŒ–ï¼ˆhandlers.goï¼‰
  - âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€åŒ–
  - âœ… ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Šï¼ˆ89.3%ï¼‰
  - âœ… ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½è·¡å¯¾å¿œ

### ãƒ•ã‚§ãƒ¼ã‚º4 - ğŸ“‹ è¨ˆç”»ä¸­
- [ ] è¨­å®šç®¡ç†ã‚³ãƒãƒ³ãƒ‰æ‹¡å¼µï¼ˆconfig updateç­‰ï¼‰
- [ ] è¤‡æ•°AIãƒ„ãƒ¼ãƒ«å¯¾å¿œï¼ˆGitHub Copilotã€Cursorç­‰ï¼‰
- [ ] ã‚ˆã‚Šè©³ç´°ãªãƒ¬ãƒãƒ¼ãƒˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥åˆ†æï¼‰
- [ ] Web UIè¿½åŠ ï¼ˆæ™‚ç³»åˆ—ã‚°ãƒ©ãƒ•è¡¨ç¤ºï¼‰

### ãƒ•ã‚§ãƒ¼ã‚º5 - ğŸ“‹ é•·æœŸè¨ˆç”»
- [ ] ãƒãƒ¼ãƒ åˆ†ææ©Ÿèƒ½
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¯”è¼ƒ
- [ ] APIæä¾›

## 10. ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´

### v0.4.0ï¼ˆ2025-07-31ï¼‰- æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½
- **Major Features Added**:
  - æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆ--since, --from/--to, --lastï¼‰
  - è¤‡æ•°å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆtable, graph, jsonï¼‰
  - æ—¥æ¬¡çµ±è¨ˆã¨ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ
  - ASCII ã‚°ãƒ©ãƒ•å¯è¦–åŒ–ã¨é€²æ—ãƒãƒ¼
- **Implementation Details**:
  - æ–°è¦ internal/period/ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
  - handlers.go ã«ã‚ˆã‚‹CLIæ©Ÿèƒ½æ‹¡å¼µ
  - 89.3%ã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆ
  - ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½è·¡å¯¾å¿œ

### v0.3.7ï¼ˆ2025-07-30ï¼‰- ãƒã‚°ä¿®æ­£ã¨ãƒ†ã‚¹ãƒˆæ‹¡å……
- mergeClaudeSettings ã®é‡è¦ãªãƒã‚°ä¿®æ­£
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å¤§å¹…å‘ä¸Š
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®‰å…¨æ€§ã®å‘ä¸Š

### v0.3.6ï¼ˆ2025-07-30ï¼‰- æ§‹é€ æœ€é©åŒ–
- å»ƒæ­¢ã•ã‚ŒãŸhooksãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å‰Šé™¤
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã®æ›´æ–°

**ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: **v0.4.0ã§æœŸé–“æŒ‡å®šæ©Ÿèƒ½ãŒå®Œå…¨å®Ÿè£…ã•ã‚Œã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§å®Ÿç”¨å¯èƒ½ãªçŠ¶æ…‹**
# AI Code Tracker - Requirements and Design Document (RDD)

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ç›®çš„
AIï¼ˆClaude Codeç­‰ï¼‰ã¨äººé–“ãŒæ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã®å‰²åˆã‚’æ­£ç¢ºã«è¿½è·¡ã—ã€è¨­å®šå¯èƒ½ãªç›®æ¨™AIã‚³ãƒ¼ãƒ‰ç”Ÿæˆç‡ã®é”æˆã‚’æ”¯æ´ã™ã‚‹è¶…è»½é‡ãƒ„ãƒ¼ãƒ«ã‚’é–‹ç™ºã™ã‚‹ã€‚

### 1.2 ä¸»è¦æ©Ÿèƒ½
- Claude Codeã®ãƒ•ãƒƒã‚¯ã¨é€£æºã—ãŸè‡ªå‹•çš„ãªã‚³ãƒ¼ãƒ‰å¤‰æ›´è¿½è·¡
- Git pre/post-commitãƒ•ãƒƒã‚¯ã«ã‚ˆã‚‹è‡ªå‹•åˆ†æ
- **è¶…è»½é‡JSONLå½¢å¼**: ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ1ã¤ã‚ãŸã‚Šç´„100ãƒã‚¤ãƒˆã§å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾å¿œ
- **ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¦‚å¿µã‚’å»ƒæ­¢ã—ã€å·®åˆ†è¿½è·¡ã®ã¿ã«é›†ä¸­
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ—¢å­˜è¨­å®šãƒãƒ¼ã‚¸æ©Ÿèƒ½
- é«˜é€Ÿãªå·®åˆ†è¨ˆç®—ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—è¡¨ç¤º

### 1.3 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- å®Ÿè£…è¨€èª: Go
- ãƒ‡ãƒ¼ã‚¿å½¢å¼: JSONLï¼ˆJSON Linesï¼‰
- é€£æº: Claude Code hooks, Git hooks
- å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«: è¨­å®šå¯èƒ½ï¼ˆä»»æ„ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã«å¯¾å¿œï¼‰

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### 2.1 ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
ai-code-tracker/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ aict/              # ãƒ¡ã‚¤ãƒ³CLIãƒ„ãƒ¼ãƒ«
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ tracker/           # ã‚³ã‚¢è¿½è·¡ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ checkpoint.go  # ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ analyzer.go    # åˆ†æãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ types.go       # å‹å®šç¾©
â”‚   â”œâ”€â”€ storage/           # ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
â”‚   â”‚   â”œâ”€â”€ json.go        # JSONã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â””â”€â”€ metrics.go     # ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç®¡ç†
â”‚   â””â”€â”€ git/               # Gité€£æº
â”‚       â””â”€â”€ diff.go        # Git diffå‡¦ç†
â”œâ”€â”€ internal/
â”‚   â””â”€â”€ templates/          # ãƒ•ãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚       â””â”€â”€ hooks.go        # åŸ‹ã‚è¾¼ã¿ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ settings.json      # Claude Codeè¨­å®š
â””â”€â”€ .ai_code_tracking/     # AIè¿½è·¡ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    â”œâ”€â”€ config.json        # è¿½è·¡è¨­å®š
    â”œâ”€â”€ checkpoints.jsonl  # è¶…è»½é‡ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆè¨˜éŒ²ï¼ˆJSONLå½¢å¼ï¼‰
    â”œâ”€â”€ hooks/             # ãƒ•ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
    â”‚   â”œâ”€â”€ pre-tool-use.sh
    â”‚   â”œâ”€â”€ post-tool-use.sh
    â”‚   â”œâ”€â”€ pre-commit
    â”‚   â””â”€â”€ post-commit
    â””â”€â”€ metrics/           # ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆä¸‹ä½äº’æ›ç”¨ï¼‰
```

### 2.2 è¶…è»½é‡è¿½è·¡ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆv0.3.1å®Ÿè£…æ¸ˆã¿ï¼‰

```
1. PreToolUse Hook â†’ JSONLè¨˜éŒ²: {"author":"human","added":X,"deleted":Y}
   â†“
   Claude Codeç·¨é›†å®Ÿè¡Œ
   â†“
2. PostToolUse Hook â†’ JSONLè¨˜éŒ²: {"author":"claude","added":X+n,"deleted":Y+m}
   â†“
   äººé–“ã®è¿½åŠ ç·¨é›†ï¼ˆoptionalï¼‰
   â†“
3. Pre-commit Hook â†’ ç¾åœ¨çŠ¶æ…‹è¨˜éŒ²
   â†“
4. Post-commit Hook â†’ åˆ†æãƒ»ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼äº’æ›ç”¨ï¼‰
```

**JSONLå½¢å¼ã®åˆ©ç‚¹**ï¼š
- **è¶…è»½é‡**: 1ãƒ¬ã‚³ãƒ¼ãƒ‰ç´„100ãƒã‚¤ãƒˆï¼ˆå¾“æ¥ã®70%å‰Šæ¸›ï¼‰
- **é«˜é€Ÿå‡¦ç†**: ã‚·ãƒ³ãƒ—ãƒ«ãªæ•°å€¤è¨ˆç®—ã®ã¿
- **å¤§è¦æ¨¡å¯¾å¿œ**: æ•°ä¸‡ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚è»½é‡

## 3. ãƒ‡ãƒ¼ã‚¿ä»•æ§˜ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

### 3.1 è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼

```json
// .ai_code_tracking/config.json
{
  "target_ai_percentage": 80.0,
  "tracked_extensions": [
    ".go", ".py", ".js", ".ts", ".java", ".cpp", ".c", ".h", ".rs", ".swift"
  ],
  "exclude_patterns": [
    "*_test.go", "*.test.js", "*.spec.ts", "*_generated.go"
  ],
  "author_mappings": {
    "y-hirakaw": "human"
  }
}
```

### 3.2 ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆJSONå½¢å¼ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

```json
{
  "id": "abc12345",
  "timestamp": "2025-07-30T15:52:30.252106+09:00",
  "author": "claude",
  "files": {
    "test/example.swift": {
      "path": "test/example.swift", 
      "lines": ["import Foundation", "// Simple vocabulary...", ...]
    }
  }
}
```

### 3.3 ãƒ¡ãƒˆãƒªã‚¯ã‚¹JSONå½¢å¼ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

```json
{
  "total_lines": 817,
  "baseline_lines": 803,
  "ai_lines": 14,
  "human_lines": 0,
  "percentage": 100.0,
  "last_updated": "2025-07-30T15:52:30.252106+09:00"
}
```

**é‡è¦**: `percentage`ã¯ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’é™¤ã„ãŸè¿½åŠ è¡Œï¼ˆ`ai_lines + human_lines`ï¼‰ã«å¯¾ã™ã‚‹AIè¡Œã®å‰²åˆã‚’ç¤ºã—ã¾ã™ã€‚

## 4. å®Ÿè£…ä»•æ§˜ï¼ˆç¾åœ¨ã®çŠ¶æ³ï¼‰

### 4.1 å®Ÿè£…æ¸ˆã¿CLIã‚³ãƒãƒ³ãƒ‰

```bash
# åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
aict init                      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ãƒ»ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ä½œæˆãƒ»ãƒ•ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
aict setup-hooks               # Claude Codeãƒ»Git ãƒ•ãƒƒã‚¯è¨­å®š
aict track -author <name>      # ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆä½œæˆï¼ˆæ‰‹å‹•ï¼‰
aict report                    # ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤ºï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã®å¤‰æ›´ã‚’è¡¨ç¤ºï¼‰
aict reset                     # ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒªã‚»ãƒƒãƒˆãƒ»ç¾åœ¨çŠ¶æ…‹ã‚’æ–°ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã«è¨­å®š

# ä½¿ç”¨ä¾‹
aict init                      # è¨­å®šã¨ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ä½œæˆï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¯è¨ˆæ¸¬å¯¾è±¡å¤–ï¼‰
aict setup-hooks               # ãƒ•ãƒƒã‚¯é€£æºè¨­å®š
aict track -author human       # äººé–“ã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
aict track -author claude      # AIã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
aict reset                     # é€”ä¸­ã§ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä»˜ãï¼‰
```

### 4.2 å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

#### âœ… å®Œäº†æ¸ˆã¿
- [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤æ§‹ç¯‰ï¼ˆgo.modã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼‰
- [x] ã‚³ã‚¢æ©Ÿèƒ½å®Ÿè£…ï¼ˆcheckpoint.go, analyzer.go, types.goï¼‰
- [x] Gitçµ±åˆï¼ˆdiff.goï¼‰
- [x] ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤ï¼ˆjson.go, metrics.goï¼‰
- [x] CLIå®Ÿè£…ï¼ˆinit, track, report, resetã‚³ãƒãƒ³ãƒ‰ï¼‰
- [x] **ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½å®Ÿè£…**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’åŸºæº–ç‚¹ã¨ã—ã¦è¨­å®šã€è¿½åŠ åˆ†ã®ã¿è¿½è·¡
- [x] **ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½å®Ÿè£…**: ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚¯ãƒªã‚¢ãƒ»æ–°ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨­å®šï¼ˆç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä»˜ãï¼‰
- [x] åŸºæœ¬çš„ãªå‹•ä½œç¢ºèªã¨ãƒ†ã‚¹ãƒˆ
- [x] ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç´¯ç©ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£
- [x] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’.ai_code_trackingã«å¤‰æ›´
- [x] Claude Codeãƒ•ãƒƒã‚¯å®Ÿè£…ï¼ˆPreToolUse/PostToolUseï¼‰
- [x] Git post-commitãƒ•ãƒƒã‚¯å®Ÿè£…
- [x] ãƒ•ãƒƒã‚¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŸ‹ã‚è¾¼ã¿æ©Ÿèƒ½
- [x] setup-hooksã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
- [x] ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ—¢å­˜è¨­å®šãƒãƒ¼ã‚¸æ©Ÿèƒ½
- [x] æ—¢å­˜Gitãƒ•ãƒƒã‚¯ã¨Claudeè¨­å®šã®å®‰å…¨ãªçµ±åˆ

#### ğŸ“‹ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

##### ğŸ”¥ å„ªå…ˆå®Ÿè£…é …ç›®
- [ ] **æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½** - ç›´è¿‘Næ—¥/é€±/æœˆã®AI/äººé–“å‰²åˆåˆ†æ
  - `aict report --since "2 weeks ago"`
  - `aict report --from 2025-01-01 --to 2025-01-15`
  - `aict report --last 14d`
  - æ™‚ç³»åˆ—ã§ã®é€²æ—å¤‰åŒ–ã‚°ãƒ©ãƒ•è¡¨ç¤º
  - æœŸé–“åˆ¥çµ±è¨ˆï¼ˆæ—¥æ¬¡ã€é€±æ¬¡ã€æœˆæ¬¡é›†è¨ˆï¼‰
  
##### ğŸ“‹ ä¸­æœŸå®Ÿè£…äºˆå®š
- [ ] configè¨­å®šã‚³ãƒãƒ³ãƒ‰ï¼ˆ`aict config set/get`ï¼‰
- [ ] ã‚ˆã‚Šè©³ç´°ãªãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥ï¼‰
- [ ] è¤‡æ•°AIãƒ„ãƒ¼ãƒ«å¯¾å¿œï¼ˆGitHub Copilotã€Cursorç­‰ï¼‰
- [ ] Web UIè¿½åŠ ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹çµ±è¨ˆè¡¨ç¤ºï¼‰

### 4.3 ä¸»è¦ãªå‹å®šç¾©ï¼ˆv0.3.1å®Ÿè£…æ¸ˆã¿ï¼‰

```go
// internal/tracker/types.go

// æ–°ã—ã„è¶…è»½é‡JSONLå½¢å¼ï¼ˆv0.3.1ï¼‰
type CheckpointRecord struct {
    Timestamp time.Time `json:"timestamp"`
    Author    string    `json:"author"`
    Commit    string    `json:"commit,omitempty"`
    Added     int       `json:"added"`   // å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ è¡Œæ•°åˆè¨ˆ
    Deleted   int       `json:"deleted"` // å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤è¡Œæ•°åˆè¨ˆ
}

// ãƒ¬ã‚¬ã‚·ãƒ¼å½¢å¼ï¼ˆä¸‹ä½äº’æ›ç”¨ï¼‰
type Checkpoint struct {
    ID          string                 `json:"id"`
    Timestamp   time.Time              `json:"timestamp"`
    Author      string                 `json:"author"`
    CommitHash  string                 `json:"commit_hash,omitempty"`
    Files       map[string]FileContent `json:"files"`
    NumstatData map[string][2]int      `json:"numstat_data,omitempty"`
}

// ã‚·ãƒ³ãƒ—ãƒ«åŒ–ã•ã‚ŒãŸãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¦‚å¿µã‚’å‰Šé™¤ï¼‰
type AnalysisResult struct {
    TotalLines  int       `json:"total_lines"`
    AILines     int       `json:"ai_lines"`
    HumanLines  int       `json:"human_lines"`
    Percentage  float64   `json:"percentage"`
    LastUpdated time.Time `json:"last_updated"`
}

type Config struct {
    TargetAIPercentage float64           `json:"target_ai_percentage"`
    TrackedExtensions  []string          `json:"tracked_extensions"`
    ExcludePatterns    []string          `json:"exclude_patterns"`
    AuthorMappings     map[string]string `json:"author_mappings"`
}
```

## 5. UI/UXè¨­è¨ˆï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

### 5.1 ç¾åœ¨ã®é€²æ—è¡¨ç¤º

```
AI Code Tracking Report
======================
Total Lines: 817 (including 803 baseline)
Added Lines: 14
  AI Lines: 14 (100.0%)
  Human Lines: 0 (0.0%)

Target: 80.0% AI code
Progress: 125.0%

Last Updated: 2025-07-30 15:52:30
```

**å¤‰æ›´ç‚¹**: ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³åˆ†ã‚’æ˜ç¤ºã—ã€è¿½åŠ ã•ã‚ŒãŸè¡Œã®ã¿ã§AI/äººé–“ã®å‰²åˆã‚’è¨ˆç®—è¡¨ç¤º

### 5.2 ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¨­å®šãƒãƒ¼ã‚¸

```
$ aict setup-hooks
Warning: Git post-commit hook already exists at .git/hooks/post-commit
Do you want to merge AI Code Tracker functionality? (y/N): y
âœ“ Git post-commit hook merged with existing hook

Warning: Claude settings already exist at .claude/settings.json  
Do you want to merge AI Code Tracker hooks? (y/N): y
âœ“ Claude Code hooks merged with existing settings
```

## 6. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

- ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆè¨˜éŒ²: é«˜é€Ÿï¼ˆJSONå½¢å¼ï¼‰
- åˆ†æå‡¦ç†: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: è»½é‡
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: åŠ¹ç‡çš„

## 7. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

```bash
# 1. ãƒ“ãƒ«ãƒ‰
go build -o bin/aict ./cmd/aict

# 2. åˆæœŸåŒ–ï¼ˆè¨­å®šã€ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ä½œæˆã€ãƒ•ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼‰
./bin/aict init                   # æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’åŸºæº–ç‚¹ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ï¼‰ã¨ã—ã¦è¨­å®š

# 3. ãƒ•ãƒƒã‚¯è¨­å®šï¼ˆClaude Codeã¨Gité€£æºï¼‰
./bin/aict setup-hooks

# 4. è‡ªå‹•è¿½è·¡é–‹å§‹
# Claude Codeã§ç·¨é›†ã™ã‚‹ã¨è‡ªå‹•çš„ã«è¿½è·¡ã•ã‚Œã‚‹ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã®å·®åˆ†ã®ã¿ï¼‰

# 5. æ‰‹å‹•è¿½è·¡ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
./bin/aict track -author human    # äººé–“ã®è¿½åŠ ç·¨é›†
./bin/aict track -author claude   # AIç·¨é›†å¾Œ
./bin/aict report                 # ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤ºï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’é™¤ãï¼‰

# 6. é€”ä¸­ã§ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
./bin/aict reset                  # ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä»˜ãã§ç¾åœ¨çŠ¶æ…‹ã‚’æ–°ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã«
```

## 8. æ¤œè¨¼çµæœ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ­£å¸¸ã«å‹•ä½œã—ã€ä»¥ä¸‹ãŒç¢ºèªæ¸ˆã¿ï¼š

- **æ­£ç¢ºãªè¿½è·¡**: AI/äººé–“ã®ã‚³ãƒ¼ãƒ‰è¡Œæ•°ã‚’æ­£ç¢ºã«åˆ†é›¢
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆé–“ã®å·®åˆ†ã‚’é©åˆ‡ã«è¨ˆç®—
- **è¨­å®šç®¡ç†**: æ‹¡å¼µå­ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³
- **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**: ç›®æ¨™é”æˆç‡ã®å¯è¦–åŒ–

**ãƒ†ã‚¹ãƒˆçµæœä¾‹**ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½é©ç”¨å¾Œï¼‰:
- ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³: 803è¡Œï¼ˆè¨ˆæ¸¬å¯¾è±¡å¤–ï¼‰
- AIè¿½åŠ : 14è¡Œè¿½åŠ ï¼ˆAI 100%ï¼‰
- äººé–“è¿½åŠ : 0è¡Œè¿½åŠ ï¼ˆHuman 0%ï¼‰
- åˆè¨ˆ: 817è¡Œï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³803è¡Œ + è¿½åŠ 14è¡Œï¼‰

ç›®æ¨™å€¤ï¼ˆ80% AIã‚³ãƒ¼ãƒ‰ï¼‰ã«å¯¾ã™ã‚‹é€²æ—ç‡: 125%ï¼ˆè¿½åŠ åˆ†ã®ã¿ã§è¨ˆç®—ï¼‰

## 9. ä»Šå¾Œã®æ‹¡å¼µè¨ˆç”»

### çŸ­æœŸï¼ˆãƒ•ã‚§ãƒ¼ã‚º2ï¼‰- âœ… å®Œäº†
- âœ… Claude Codeãƒ•ãƒƒã‚¯çµ±åˆ
- âœ… Git post-commitãƒ•ãƒƒã‚¯
- âœ… ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸æ©Ÿèƒ½

### çŸ­æœŸï¼ˆãƒ•ã‚§ãƒ¼ã‚º3ï¼‰- ğŸ”¥ å„ªå…ˆå®Ÿè£…
- [ ] **æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½**
  - CLIæœŸé–“ã‚ªãƒ—ã‚·ãƒ§ãƒ³å®Ÿè£…ï¼ˆ--since, --from/--to, --lastï¼‰
  - ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ‡ãƒ¼ã‚¿ã®æ™‚ç³»åˆ—ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  - æœŸé–“åˆ¥çµ±è¨ˆè¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³
  - é€²æ—å¤‰åŒ–ã®å¯è¦–åŒ–ï¼ˆASCII ã‚°ãƒ©ãƒ•ï¼‰
  
### ä¸­æœŸï¼ˆãƒ•ã‚§ãƒ¼ã‚º4ï¼‰
- [ ] è¨­å®šç®¡ç†ã‚³ãƒãƒ³ãƒ‰æ‹¡å¼µï¼ˆconfig updateç­‰ï¼‰
- [ ] è¤‡æ•°AIãƒ„ãƒ¼ãƒ«å¯¾å¿œï¼ˆGitHub Copilotã€Cursorç­‰ï¼‰
- [ ] ã‚ˆã‚Šè©³ç´°ãªãƒ¬ãƒãƒ¼ãƒˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åˆ¥ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥åˆ†æï¼‰
- [ ] Web UIè¿½åŠ ï¼ˆæ™‚ç³»åˆ—ã‚°ãƒ©ãƒ•è¡¨ç¤ºï¼‰

### é•·æœŸï¼ˆãƒ•ã‚§ãƒ¼ã‚º5ï¼‰
- [ ] ãƒãƒ¼ãƒ åˆ†ææ©Ÿèƒ½
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¯”è¼ƒ
- [ ] APIæä¾›
- [ ] CI/CDçµ±åˆ

## 10. æœŸé–“æŒ‡å®šæ©Ÿèƒ½ã®å®Ÿè£…è¨­è¨ˆï¼ˆãƒ•ã‚§ãƒ¼ã‚º3å„ªå…ˆé …ç›®ï¼‰

### 10.1 è¦ä»¶å®šç¾©

**èƒŒæ™¯**: ç¾åœ¨ã®å®Ÿè£…ã§ã¯ç´¯ç©ãƒ‡ãƒ¼ã‚¿ã®ã¿è¡¨ç¤ºå¯èƒ½ã€‚å®Ÿç”¨çš„ãªåˆ†æã®ãŸã‚ã€ã€Œç›´è¿‘2é€±é–“ã®AI/äººé–“å‰²åˆã€ç­‰ã®æœŸé–“æŒ‡å®šãƒ¬ãƒãƒ¼ãƒˆãŒå¿…è¦ã€‚

**ä¸»è¦ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**:
- ç›´è¿‘Næ—¥é–“ã§ã®é–‹ç™ºãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ
- æœˆæ¬¡/é€±æ¬¡ã§ã®é€²æ—ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
- ç‰¹å®šæœŸé–“ã§ã®ãƒãƒ¼ãƒ è²¢çŒ®åº¦è©•ä¾¡

### 10.2 æ–°CLIã‚³ãƒãƒ³ãƒ‰ä»•æ§˜

```bash
# æœŸé–“æŒ‡å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³
aict report --since "2 weeks ago"     # ç›¸å¯¾æœŸé–“æŒ‡å®š
aict report --since "2025-01-01"      # çµ¶å¯¾æ—¥ä»˜æŒ‡å®š
aict report --from 2025-01-01 --to 2025-01-15  # æœŸé–“ç¯„å›²æŒ‡å®š
aict report --last 7d                 # ç›´è¿‘Næ—¥æŒ‡å®š
aict report --last 2w                 # ç›´è¿‘Né€±æŒ‡å®š
aict report --last 1m                 # ç›´è¿‘NæœˆæŒ‡å®š

# å‡ºåŠ›å½¢å¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³
aict report --since "1 week ago" --format table   # ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º
aict report --since "1 week ago" --format graph   # ASCII ã‚°ãƒ©ãƒ•
aict report --since "1 week ago" --format json    # JSONå‡ºåŠ›
```

### 10.3 å®Ÿè£…è¨ˆç”»

#### 10.3.1 ãƒ‡ãƒ¼ã‚¿æ§‹é€ æ‹¡å¼µ
```go
// æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ç”¨ã®æ–°ã—ã„å‹
type TimeRange struct {
    From time.Time `json:"from"`
    To   time.Time `json:"to"`
}

type PeriodReport struct {
    Range       TimeRange       `json:"range"`
    TotalLines  int            `json:"total_lines"`
    AILines     int            `json:"ai_lines"`
    HumanLines  int            `json:"human_lines"`
    Percentage  float64        `json:"percentage"`
    DailyStats  []DailyStat    `json:"daily_stats"`
}

type DailyStat struct {
    Date       time.Time `json:"date"`
    AILines    int       `json:"ai_lines"`
    HumanLines int       `json:"human_lines"`
}
```

#### 10.3.2 æ–°æ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- `internal/period/parser.go` - æœŸé–“æ–‡å­—åˆ—ãƒ‘ãƒ¼ã‚¹æ©Ÿèƒ½
- `internal/period/filter.go` - ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆæœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- `internal/period/analyzer.go` - æœŸé–“åˆ¥çµ±è¨ˆè¨ˆç®—
- `internal/reports/formatter.go` - è¤‡æ•°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå‡ºåŠ›å¯¾å¿œ

### 10.4 å®Ÿè£…å„ªå…ˆé †ä½
1. **Phase 3.1**: åŸºæœ¬çš„ãªæœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆ--since, --from/--toï¼‰
2. **Phase 3.2**: ç›¸å¯¾æœŸé–“æŒ‡å®šï¼ˆ--last Nd/Nw/Nmï¼‰
3. **Phase 3.3**: è¤‡æ•°å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆtable, graph, jsonï¼‰
4. **Phase 3.4**: æ—¥æ¬¡/é€±æ¬¡çµ±è¨ˆã¨ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ